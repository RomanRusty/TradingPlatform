{"Timestamp":"2021-12-14T19:37:10.1114351+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","Exception":"Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - TradingPlatform.DatabaseService.Presentation.ProductsApiController.CreateProduct (TradingPlatform.DatabaseService.Presentation). See inner exception\r\n ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - TradingPlatform.EntityContracts.Product.ProductCreateDto. See inner exception\r\n ---> System.TypeLoadException: Could not load type 'Microsoft.AspNetCore.Http.Internal.FormFile' from assembly 'Microsoft.AspNetCore.Http, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.\r\n   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)\r\n   at System.Reflection.RuntimeMethodInfo.get_Signature()\r\n   at System.Reflection.RuntimeMethodInfo.FetchNonReturnParameters()\r\n   at System.Reflection.RuntimeMethodInfo.GetParametersNoCopy()\r\n   at System.Reflection.RuntimePropertyInfo.GetIndexParametersNoCopy()\r\n   at System.Reflection.RuntimePropertyInfo.GetIndexParameters()\r\n   at System.Attribute.GetIndexParameterTypes(PropertyInfo element)\r\n   at System.Attribute.InternalGetCustomAttributes(PropertyInfo element, Type type, Boolean inherit)\r\n   at System.Attribute.GetCustomAttributes(MemberInfo element, Type type, Boolean inherit)\r\n   at System.Attribute.GetCustomAttribute(MemberInfo element, Type attributeType, Boolean inherit)\r\n   at System.Reflection.CustomAttributeExtensions.GetCustomAttribute[T](MemberInfo element)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.<GetDataPropertiesFor>b__6_1(PropertyInfo property)\r\n   at System.Linq.Enumerable.WhereArrayIterator`1.ToArray()\r\n   at System.Linq.Buffer`1..ctor(IEnumerable`1 source)\r\n   at System.Linq.OrderedEnumerable`1.GetEnumerator()+MoveNext()\r\n   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataPropertiesFor(Type objectType, Type& extensionDataType)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataContractForType(Type type)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GetDataContractFor(Type modelType)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForParameter(Type modelType, SchemaRepository schemaRepository, ParameterInfo parameterInfo)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchema(Type modelType, SchemaRepository schemaRepository, MemberInfo memberInfo, ParameterInfo parameterInfo)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo)\r\n   --- End of inner exception stack trace ---\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyFromBodyParameter(ApiDescription apiDescription, SchemaRepository schemaRepository, ApiParameterDescription bodyParameter)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBody(ApiDescription apiDescription, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)\r\n   --- End of inner exception stack trace ---\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"80000037-0002-f800-b63f-84710c7967bb","RequestPath":"/swagger/v1/swagger.json","MachineName":"\"RUSTY\"","ProcessId":16012,"ThreadId":6,"AssemblyName":"TradingPlatform.DatabaseService.WebApi","MemoryUsage":15192952,"EnvironmentUserName":"RUSTY\\Roman","AppName":"Some app","CustomProp":"Custom value","EnvironmentName":"Development","CorrelationId":"2907a95a-aaac-43ce-b852-4ec7575ad8ab"}}
{"Timestamp":"2021-12-14T19:38:58.5284300+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","Exception":"Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - TradingPlatform.DatabaseService.Presentation.ProductsApiController.CreateProduct (TradingPlatform.DatabaseService.Presentation). See inner exception\r\n ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - TradingPlatform.EntityContracts.Product.ProductCreateDto. See inner exception\r\n ---> System.TypeLoadException: Could not load type 'Microsoft.AspNetCore.Http.Internal.FormFile' from assembly 'Microsoft.AspNetCore.Http, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.\r\n   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)\r\n   at System.Reflection.RuntimeMethodInfo.get_Signature()\r\n   at System.Reflection.RuntimeMethodInfo.FetchNonReturnParameters()\r\n   at System.Reflection.RuntimePropertyInfo.GetIndexParametersNoCopy()\r\n   at System.Reflection.RuntimePropertyInfo.GetIndexParameters()\r\n   at System.Attribute.GetIndexParameterTypes(PropertyInfo element)\r\n   at System.Attribute.InternalGetCustomAttributes(PropertyInfo element, Type type, Boolean inherit)\r\n   at System.Attribute.GetCustomAttributes(MemberInfo element, Type type, Boolean inherit)\r\n   at System.Attribute.GetCustomAttribute(MemberInfo element, Type attributeType, Boolean inherit)\r\n   at System.Reflection.CustomAttributeExtensions.GetCustomAttribute[T](MemberInfo element)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.<GetDataPropertiesFor>b__6_1(PropertyInfo property)\r\n   at System.Linq.Enumerable.WhereArrayIterator`1.ToArray()\r\n   at System.Linq.Buffer`1..ctor(IEnumerable`1 source)\r\n   at System.Linq.OrderedEnumerable`1.GetEnumerator()+MoveNext()\r\n   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataPropertiesFor(Type objectType, Type& extensionDataType)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataContractForType(Type type)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GetDataContractFor(Type modelType)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForParameter(Type modelType, SchemaRepository schemaRepository, ParameterInfo parameterInfo)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchema(Type modelType, SchemaRepository schemaRepository, MemberInfo memberInfo, ParameterInfo parameterInfo)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo)\r\n   --- End of inner exception stack trace ---\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyFromBodyParameter(ApiDescription apiDescription, SchemaRepository schemaRepository, ApiParameterDescription bodyParameter)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBody(ApiDescription apiDescription, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)\r\n   --- End of inner exception stack trace ---\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"8000001b-0006-fb00-b63f-84710c7967bb","RequestPath":"/swagger/v1/swagger.json","MachineName":"\"RUSTY\"","ProcessId":22656,"ThreadId":6,"AssemblyName":"TradingPlatform.DatabaseService.WebApi","MemoryUsage":14729576,"EnvironmentUserName":"RUSTY\\Roman","AppName":"Some app","CustomProp":"Custom value","EnvironmentName":"Development","CorrelationId":"96646540-19c8-40af-b4a8-85242cddf77c"}}
{"Timestamp":"2021-12-14T19:41:37.7510305+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","Exception":"Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - TradingPlatform.DatabaseService.Presentation.ProductsApiController.CreateProduct (TradingPlatform.DatabaseService.Presentation). See inner exception\r\n ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - TradingPlatform.EntityContracts.Product.ProductCreateDto. See inner exception\r\n ---> System.TypeLoadException: Could not load type 'Microsoft.AspNetCore.Http.Internal.FormFile' from assembly 'Microsoft.AspNetCore.Http, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.\r\n   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)\r\n   at System.Reflection.RuntimeMethodInfo.get_Signature()\r\n   at System.Reflection.RuntimeMethodInfo.FetchNonReturnParameters()\r\n   at System.Reflection.RuntimePropertyInfo.GetIndexParametersNoCopy()\r\n   at System.Reflection.RuntimePropertyInfo.GetIndexParameters()\r\n   at System.Attribute.GetIndexParameterTypes(PropertyInfo element)\r\n   at System.Attribute.InternalGetCustomAttributes(PropertyInfo element, Type type, Boolean inherit)\r\n   at System.Attribute.GetCustomAttributes(MemberInfo element, Type type, Boolean inherit)\r\n   at System.Attribute.GetCustomAttribute(MemberInfo element, Type attributeType, Boolean inherit)\r\n   at System.Reflection.CustomAttributeExtensions.GetCustomAttribute[T](MemberInfo element)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.<GetDataPropertiesFor>b__6_1(PropertyInfo property)\r\n   at System.Linq.Enumerable.WhereArrayIterator`1.ToArray()\r\n   at System.Linq.Buffer`1..ctor(IEnumerable`1 source)\r\n   at System.Linq.OrderedEnumerable`1.GetEnumerator()+MoveNext()\r\n   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataPropertiesFor(Type objectType, Type& extensionDataType)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataContractForType(Type type)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GetDataContractFor(Type modelType)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForParameter(Type modelType, SchemaRepository schemaRepository, ParameterInfo parameterInfo)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchema(Type modelType, SchemaRepository schemaRepository, MemberInfo memberInfo, ParameterInfo parameterInfo)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo)\r\n   --- End of inner exception stack trace ---\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyFromBodyParameter(ApiDescription apiDescription, SchemaRepository schemaRepository, ApiParameterDescription bodyParameter)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBody(ApiDescription apiDescription, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)\r\n   --- End of inner exception stack trace ---\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"80000077-0002-fa00-b63f-84710c7967bb","RequestPath":"/swagger/v1/swagger.json","MachineName":"\"RUSTY\"","ProcessId":18728,"ThreadId":11,"AssemblyName":"TradingPlatform.DatabaseService.WebApi","MemoryUsage":16156712,"EnvironmentUserName":"RUSTY\\Roman","AppName":"Some app","CustomProp":"Custom value","EnvironmentName":"Development","CorrelationId":"51877ea3-0f93-4fab-bc76-e949268d3bc1"}}
{"Timestamp":"2021-12-14T22:24:30.9389529+02:00","Level":"Error","MessageTemplate":"Error mapping types.\r\n\r\nMapping types:\r\nProductCreateDto -> Product\r\nTradingPlatform.EntityContracts.Product.ProductCreateDto -> TradingPlatform.DatabaseService.Domain.Entities.Product\r\n\r\nType Map configuration:\r\nProductCreateDto -> Product\r\nTradingPlatform.EntityContracts.Product.ProductCreateDto -> TradingPlatform.DatabaseService.Domain.Entities.Product\r\n\r\nDestination Member:\r\nTradingPlatform.DatabaseService.Domain.Entities.Product.Void .ctor(System.String, System.String, Double, Int32, TradingPlatform.DatabaseService.Domain.Entities.Category).parameter category\r\n","Exception":"AutoMapper.AutoMapperMappingException: Error mapping types.\r\n\r\nMapping types:\r\nProductCreateDto -> Product\r\nTradingPlatform.EntityContracts.Product.ProductCreateDto -> TradingPlatform.DatabaseService.Domain.Entities.Product\r\n\r\nType Map configuration:\r\nProductCreateDto -> Product\r\nTradingPlatform.EntityContracts.Product.ProductCreateDto -> TradingPlatform.DatabaseService.Domain.Entities.Product\r\n\r\nDestination Member:\r\nTradingPlatform.DatabaseService.Domain.Entities.Product.Void .ctor(System.String, System.String, Double, Int32, TradingPlatform.DatabaseService.Domain.Entities.Category).parameter category\r\n\r\n ---> System.ArgumentNullException: Value cannot be null. (Parameter 'name')\r\n   at TradingPlatform.DatabaseService.Domain.Entities.Category..ctor(String name, String description) in D:\\ProgrammingWorks\\EleksCamp\\TradingPlatform\\TradingPlatform.DatabaseService.Domain\\Entities\\Category.cs:line 24\r\n   at lambda_method69(Closure , Object , Product , ResolutionContext )\r\n   --- End of inner exception stack trace ---\r\n   at lambda_method69(Closure , Object , Product , ResolutionContext )\r\n   at TradingPlatform.DatabaseService.Services.ProductService.CreateAsync(ProductCreateDto productCreateDto) in D:\\ProgrammingWorks\\EleksCamp\\TradingPlatform\\TradingPlatform.DatabaseService.Services\\ProductService.cs:line 65\r\n   at TradingPlatform.DatabaseService.Presentation.ProductsApiController.CreateProduct(ProductCreateDto productCreateDto) in D:\\ProgrammingWorks\\EleksCamp\\TradingPlatform\\TradingPlatform.DatabaseService.Presentation\\ProductsApiController.cs:line 57\r\n   at lambda_method62(Closure , Object )\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at TradingPlatform.DatabaseService.Persistence.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\\ProgrammingWorks\\EleksCamp\\TradingPlatform\\TradingPlatform.DatabaseService.Persistence\\Middleware\\ExceptionHandlingMiddleware.cs:line 24","Properties":{"SourceContext":"TradingPlatform.DatabaseService.Persistence.Middleware.ExceptionHandlingMiddleware","RequestId":"80000009-0004-fa00-b63f-84710c7967bb","RequestPath":"/api/ProductsApi","MachineName":"\"RUSTY\"","ProcessId":13500,"ThreadId":18,"AssemblyName":"TradingPlatform.DatabaseService.WebApi","MemoryUsage":20936856,"EnvironmentUserName":"RUSTY\\Roman","AppName":"Some app","CustomProp":"Custom value","EnvironmentName":"Development","CorrelationId":"8cb4d949-a6c8-4784-aed4-af4ca31e1277"}}
{"Timestamp":"2021-12-14T23:55:29.8899546+02:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"216","parameters":"@p0='?' (Size = -1) (DbType = Binary), @p1='?' (Size = 255), @p2='?' (Size = 255), @p3='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [ProductImageThumbnails] ([Data], [Extension], [Name], [ProudctId])\r\nVALUES (@p0, @p1, @p2, @p3);\r\nSELECT [Id]\r\nFROM [ProductImageThumbnails]\r\nWHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2199a661-8da4-4fa0-a29e-f61ed520b882","ActionName":"TradingPlatform.DatabaseService.Presentation.ProductsApiController.CreateProduct (TradingPlatform.DatabaseService.Presentation)","RequestId":"80000083-0006-fc00-b63f-84710c7967bb","RequestPath":"/api/ProductsApi","MachineName":"\"RUSTY\"","ProcessId":700,"ThreadId":21,"AssemblyName":"TradingPlatform.DatabaseService.WebApi","MemoryUsage":23048608,"EnvironmentUserName":"RUSTY\\Roman","AppName":"Some app","CustomProp":"Custom value","EnvironmentName":"Development","CorrelationId":"6002986d-e912-4fa8-8b2d-d7386a1e4e9f"}}
{"Timestamp":"2021-12-14T23:55:30.1223197+02:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Data'.\r\nInvalid column name 'Extension'.\r\nInvalid column name 'Name'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\nClientConnectionId:6dbdc99f-b773-48bb-aad5-dd11c11103f7\r\nError Number:207,State:1,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"TradingPlatform.DatabaseService.Persistence.Database.RepositoryDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Data'.\r\nInvalid column name 'Extension'.\r\nInvalid column name 'Name'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\nClientConnectionId:6dbdc99f-b773-48bb-aad5-dd11c11103f7\r\nError Number:207,State:1,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"2199a661-8da4-4fa0-a29e-f61ed520b882","ActionName":"TradingPlatform.DatabaseService.Presentation.ProductsApiController.CreateProduct (TradingPlatform.DatabaseService.Presentation)","RequestId":"80000083-0006-fc00-b63f-84710c7967bb","RequestPath":"/api/ProductsApi","MachineName":"\"RUSTY\"","ProcessId":700,"ThreadId":21,"AssemblyName":"TradingPlatform.DatabaseService.WebApi","MemoryUsage":23366752,"EnvironmentUserName":"RUSTY\\Roman","AppName":"Some app","CustomProp":"Custom value","EnvironmentName":"Development","CorrelationId":"6002986d-e912-4fa8-8b2d-d7386a1e4e9f"}}
{"Timestamp":"2021-12-14T23:57:06.1711000+02:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"141","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @var2 sysname;\r\nSELECT @var2 = [d].[name]\r\nFROM [sys].[default_constraints] [d]\r\nINNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]\r\nWHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'AuthToken');\r\nIF @var2 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var2 + '];');\r\nALTER TABLE [AspNetUsers] DROP COLUMN [AuthToken];","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"\"RUSTY\"","ProcessId":14968,"ThreadId":1,"AssemblyName":"ef","MemoryUsage":9142096,"EnvironmentUserName":"RUSTY\\Roman","AppName":"Some app","CustomProp":"Custom value","EnvironmentName":"Development"}}
{"Timestamp":"2021-12-14T23:57:16.7721555+02:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"11","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @var2 sysname;\r\nSELECT @var2 = [d].[name]\r\nFROM [sys].[default_constraints] [d]\r\nINNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]\r\nWHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'AuthToken');\r\nIF @var2 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var2 + '];');\r\nALTER TABLE [AspNetUsers] DROP COLUMN [AuthToken];","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"\"RUSTY\"","ProcessId":6956,"ThreadId":4,"AssemblyName":"TradingPlatform.DatabaseService.WebApi","MemoryUsage":8109064,"EnvironmentUserName":"RUSTY\\Roman","AppName":"Some app","CustomProp":"Custom value","EnvironmentName":"Development"}}
